image: ubuntu:latest

before_script:
  - apt-get update && apt-get install -y python python-dev python-pip \
    libxft-dev libfreetype6 libfreetype6-dev
  - apt-get install texlive-full 
  - python --version
  - pip install matplotlib
  - pip install pdoc3
  - pip install -e .

pages:
  stage: deploy
  script:
  - cd docs; bash create_doc.sh; cd ..
  - mv docs public
  - mv gallery public/
  artifacts:
    paths:
    - public
  only:
  - master
